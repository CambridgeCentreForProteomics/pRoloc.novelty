<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a marker vector or matrix. — mrkVecToMat • pRoloc</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">pRoloc</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/pRoloc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a marker vector or matrix.</h1>
    </div>

    
    <p>Functions producing a new vector (matrix) marker vector set from
an existing matrix (vector) marker set.</p>
    

    <pre><span class='fu'>mrkVecToMat</span>(<span class='no'>object</span>, <span class='kw'>vfcol</span> <span class='kw'>=</span> <span class='st'>"markers"</span>, <span class='kw'>mfcol</span> <span class='kw'>=</span> <span class='st'>"Markers"</span>)

<span class='fu'>mrkMatToVec</span>(<span class='no'>object</span>, <span class='kw'>mfcol</span> <span class='kw'>=</span> <span class='st'>"Markers"</span>, <span class='kw'>vfcol</span> <span class='kw'>=</span> <span class='st'>"markers"</span>)

<span class='fu'>mrkMatAndVec</span>(<span class='no'>object</span>, <span class='kw'>vfcol</span> <span class='kw'>=</span> <span class='st'>"markers"</span>, <span class='kw'>mfcol</span> <span class='kw'>=</span> <span class='st'>"Markers"</span>)

<span class='fu'>showMrkMat</span>(<span class='no'>object</span>, <span class='kw'>mfcol</span> <span class='kw'>=</span> <span class='st'>"Markers"</span>)

<span class='fu'>isMrkMat</span>(<span class='no'>object</span>, <span class='kw'>fcol</span> <span class='kw'>=</span> <span class='st'>"Markers"</span>)

<span class='fu'>isMrkVec</span>(<span class='no'>object</span>, <span class='kw'>fcol</span> <span class='kw'>=</span> <span class='st'>"markers"</span>)

<span class='fu'>mrkEncoding</span>(<span class='no'>object</span>, <span class='kw'>fcol</span> <span class='kw'>=</span> <span class='st'>"markers"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>object</dt>
      <dd>An <code>MSnSet</code> object</dd>
      <dt>vfcol</dt>
      <dd>The name of the <em>vector</em> marker feature
variable. Default is <code>&quot;markers&quot;</code>.</dd>
      <dt>mfcol</dt>
      <dd>The name of the <em>matrix</em> marker feature
variable. Default is <code>&quot;Markers&quot;</code>.</dd>
      <dt>fcol</dt>
      <dd>A marker feature variable name.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An updated <code>MSnSet</code> with a new vector (matrix) marker
set.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Sub-cellular markers can be encoded in two different ways. Sets of
spatial markers can be represented as character <em>vectors</em>
(<code>character</code> or <code>factor</code>, to be accurate), stored as
feature metadata, and proteins of unknown or uncertain
localisation (unlabelled, to be classified) are marked with the
<code>&quot;unknown&quot;</code> character. While very handy, this encoding
suffers from some drawbacks, in particular the difficulty to label
proteins that reside in multiple (possible or actual)
localisations. The markers vector feature data is typically named
<code>markers</code>. A new <em>matrix</em> encoding is also
supported. Each spatial compartment is defined in a column in a
binary markers matrix and the resident proteins are encoded with
1s. The markers matrix feature data is typically named
<code>Markers</code>. If proteins are assigned unique localisations only
(i.e. no multi-localisation) or their localisation is unknown
(unlabelled), then both encodings are equivalent. When the markers
are encoded as vectors, features of unknown localisation are
defined as <code>fData(object)[, fcol] == &quot;unknown&quot;</code>. For
matrix-encoded markers, unlabelled proteins are defined as
<code>rowSums(fData(object)[, fcol]) == 0</code>.</p>
    <p>The <code>mrkMatToVec</code> and <code>mrkVecToMat</code> functions enable the
conversion from matrix (vector) to vector (matrix). The
<code>mrkMatAndVec</code> function generates the missing encoding from
the existing one. If the destination encoding already exists, or,
more accurately, if the feature variable of the destination
encoding exists, an error is thrown. During the conversion from
matrix to vector, if multiple possible label exists, they are
dropped, i.e. they are converted to <code>&quot;unknown&quot;</code>. Function
<code>isMrkVec</code> and <code>isMrkMat</code> can be used to test if a
marker set is encoded as a vector or a matrix. <code>mrkEncoding</code>
returns either <code>&quot;vector&quot;</code> or <code>&quot;matrix&quot;</code> depending on the
nature of the markers.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other functions that operate on markers are
<code><a href='getMarkers.html'>getMarkers</a></code>, <code><a href='getMarkerClasses.html'>getMarkerClasses</a></code> and
<code><a href='markerMSnSet.html'>markerMSnSet</a></code>. To add markers to an existing
<code>MSnSet</code>, see the <code><a href='addMarkers.html'>addMarkers</a></code> function and
<code><a href='pRolocmarkers.html'>pRolocmarkers</a></code>, for a list of suggested markers.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='st'>"pRolocdata"</span>)
<span class='fu'>data</span>(<span class='no'>dunkley2006</span>)
<span class='no'>dunk</span> <span class='kw'>&lt;-</span> <span class='fu'>mrkVecToMat</span>(<span class='no'>dunkley2006</span>)
<span class='fu'>head</span>(<span class='fu'>fData</span>(<span class='no'>dunk</span>)$<span class='no'>Markers</span>)</div><div class='output co'>#&gt;           ER lumen ER membrane Golgi Mitochondrion Plastid PM Ribosome TGN
#&gt; AT1G09210        1           0     0             0       0  0        0   0
#&gt; AT1G21750        1           0     0             0       0  0        0   0
#&gt; AT1G51760        1           0     0             0       0  0        0   0
#&gt; AT1G56340        1           0     0             0       0  0        0   0
#&gt; AT2G32920        1           0     0             0       0  0        0   0
#&gt; AT2G47470        1           0     0             0       0  0        0   0
#&gt;           vacuole
#&gt; AT1G09210       0
#&gt; AT1G21750       0
#&gt; AT1G51760       0
#&gt; AT1G56340       0
#&gt; AT2G32920       0
#&gt; AT2G47470       0</div><div class='input'><span class='fu'>fData</span>(<span class='no'>dunk</span>)$<span class='no'>markers</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>
<span class='no'>dunk</span> <span class='kw'>&lt;-</span> <span class='fu'>mrkMatToVec</span>(<span class='no'>dunk</span>)
<span class='fu'>stopifnot</span>(<span class='fu'>all.equal</span>(<span class='fu'>fData</span>(<span class='no'>dunkley2006</span>)$<span class='no'>markers</span>,
                    <span class='fu'>fData</span>(<span class='no'>dunk</span>)$<span class='no'>markers</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Laurent Gatto and Lisa Breckels

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Lisa Breckels.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
